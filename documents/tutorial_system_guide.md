# 玩法说明系统使用指南

## 概述

这个项目现在包含了一个完整的玩法说明系统，玩家可以通过多种方式访问游戏操作指南。

## 功能特性

### 1. 主菜单访问
- 在主菜单中新增了"玩法说明"按钮
- 点击即可查看完整的游戏操作指南
- 适合新玩家在开始游戏前了解操作

### 2. 游戏内快捷访问
- **F7键** - 在游戏进行中随时按F7键查看玩法说明
- 界面会暂停游戏，显示说明后可无缝返回游戏
- 方便玩家在游戏中快速查阅操作方法

### 3. 暂停菜单集成
- 在游戏暂停菜单中添加了"玩法说明"按钮
- 从暂停菜单打开说明后，关闭时会自动返回暂停菜单
- 提供了便捷的访问路径

### 4. 游戏内便捷访问
- 游戏内可通过F7键随时访问玩法说明
- 无需通过菜单操作，直接键盘快捷键即可访问
- 暂停游戏状态下显示，关闭后自动恢复游戏

## 玩法说明内容

说明界面包含以下主要部分：

### 🚶 角色移动
- WASD键或方向键控制角色移动
- 详细说明各方向键的功能

### 🔄 互动操作
- F键与物品、门等进行互动
- 拾取物品和开门的操作说明

### ⚔️ 战斗系统
- J键攻击敌人
- 数字键1-4快速切换武器
- Tab键切换武器的详细说明

### 🎒 物品管理
- I键打开/关闭物品栏
- 物品栏功能说明

### 🧭 导航辅助
- F1键显示到钥匙的路径
- F2键显示到出口门的路径
- M键打开/关闭小地图

### 💾 保存/加载
- F5键快速保存
- F6键快速加载
- F7键显示玩法说明

### ⏸️ 游戏暂停
- ESC键暂停/恢复游戏

### 🎯 游戏目标
- 详细说明游戏的主要目标和任务

### 💡 游戏技巧
- 提供探索和战斗的实用技巧

## 技术实现

### 文件结构
```
scenes/
├── tutorial.tscn     # 玩法说明界面场景
├── tutorial.gd       # 玩法说明界面脚本
├── main_menu.tscn    # 主菜单（已修改）
├── main_menu.gd      # 主菜单脚本（已修改）
├── pause_menu.tscn   # 暂停菜单（已修改）
└── pause_menu.gd     # 暂停菜单脚本（已修改）
```

### 关键特性
1. **响应式界面** - 使用ScrollContainer支持内容滚动
2. **暂停兼容** - 正确处理游戏暂停状态
3. **智能导航** - 根据调用方式智能返回到正确界面
4. **颜色编码** - 使用BBCode为不同操作类型设置不同颜色
5. **表情符号** - 使用表情符号增强视觉效果

### 输入映射
在`project.godot`中新增：
```
show_tutorial={
"deadzone": 0.5,
"events": [F7键事件]
}
```

## 使用方法

### 对于玩家
1. **首次游戏** - 从主菜单点击"玩法说明"了解操作
2. **游戏中查阅** - 按F7键随时查看操作指南
3. **暂停时访问** - 在暂停菜单中点击"玩法说明"
4. **快捷访问** - 无论在任何游戏状态都可以通过F7键快速访问

### 对于开发者
1. **修改内容** - 编辑`tutorial.tscn`中的RichTextLabel内容
2. **添加新操作** - 在相应的section中添加新的说明
3. **样式调整** - 修改BBCode标记改变颜色和格式

## 扩展建议

1. **多语言支持** - 可以添加语言切换功能
2. **动态内容** - 根据游戏进度显示不同的技巧
3. **交互式教程** - 添加实际操作演示
4. **键位自定义** - 根据玩家自定义的键位动态更新说明
5. **视频教程** - 集成视频播放功能

## 注意事项

1. 确保F7键没有与其他功能冲突
2. 在游戏场景中调用`_show_tutorial_in_game()`方法时需要正确设置暂停状态
3. 暂停菜单需要正确添加到"pause_menu"组中以便tutorial系统找到
4. 所有tutorial相关的界面都应设置为`PROCESS_MODE_WHEN_PAUSED`模式

这个玩法说明系统为玩家提供了便捷的操作指南访问方式，显著提升了游戏的用户体验。 